<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__d6e5dde6e34c00104e7c11888e7fecf9">d2e5dde64f4c00109dfdb63ca310c7fa</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"aeeb63ebd98846abacbed43508fc4c0c","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"aeeb63ebd98846abacbed43508fc4c0c"}],"goals":[{"name":"primary","trigger_id":"aeeb63ebd98846abacbed43508fc4c0c","nodes":[{"type":"StartGoal","goal_id":"27666bb5d3e9444ba9283550b590e29b","greeting_msg":{"type":"String","mode":"string","value":"I can help you find and update NeedIt records for a type of request."},"id":"2b031127f50643eb872a4464b703787f","name":"Start"},{"type":"TerminateGoal","goal_id":"27666bb5d3e9444ba9283550b590e29b","confirmation_msg":{"type":"String","mode":"string","value":"Ask again when you need to update other NeedIt records."},"id":"996026fe83804854b80c2f5ffacf3847","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"ecf50215c25643debb0f2c116473a520","name":"NeedIt Type","goal_id":"27666bb5d3e9444ba9283550b590e29b","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"3e61b9768d9c4ec6be9fd0739220302f","message":{"type":"String","mode":"string","value":"Which type of NeedIt record would you like to view ?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n\t    // Return the display value (Label) for the needit_type choice\n\t    return 'You selected: ' + vaInputs.needit_type.getDisplayValue();\n\t})()\n"},"id":"02b75b2a13e14166981aae5384fed832","name":"Confirm NeedIt Type","goal_id":"27666bb5d3e9444ba9283550b590e29b","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"0991c774b6204c21902a039703e02846","name":"NeedIt List","goal_id":"27666bb5d3e9444ba9283550b590e29b","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"4f2f29f24ab843a78b34b4aa5ef76a36","message":{"type":"String","mode":"string","value":"Select a NeedIt record to view"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"expression_mode":"script","script":"(function execute(table) {\n\t\n\t    // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.orderBy('u_when_needed');\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n\t\n\t})(table)\n","no_options_found_message":{"type":"String","mode":"string","value":"You have no open NeedIt records."},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n\t\n\t    // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.orderBy('u_when_needed');\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n\t\n\t})(table)\n"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"4f2f29f24ab843a78b34b4aa5ef76a36","fields":["priority","short_description","u_when_needed"],"id":"fc34472a62bc4354b1086974ec0b2aa0","name":"NeedIt Card","goal_id":"27666bb5d3e9444ba9283550b590e29b","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"InputPrompt","variable_id":"f8a5b78ee53945ec9a39840b4d759101","message":{"type":"String","mode":"string","value":"Would you like to view another NeedIt Record?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"f89a7ea90f0849a6b92e519073db8458","name":"Search Again","goal_id":"27666bb5d3e9444ba9283550b590e29b","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Find more Needit Records?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"bb396fe5cda94eeb8afe39641ca2615b","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"51366e5f0ab54262877290480f19d203","name":"Yes"}],"id":"850300bb69564140849b378156f4fbae","goal_id":"27666bb5d3e9444ba9283550b590e29b"},{"type":"InputPrompt","variable_id":"d3cf8321345c4652a131eae107cad87f","message":{"type":"String","mode":"string","value":"When do you need the NeedIt completed?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"23575d3cdd134e81875167ddc5c215f1","name":"New When Needed Date","goal_id":"27666bb5d3e9444ba9283550b590e29b","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs.new_when_needed_date}}","variable_id":"4f2f29f24ab843a78b34b4aa5ef76a36","id":"a1a71035157d4e6eb99d65fd7b8f7277","name":"Changge When Needed Date","goal_id":"27666bb5d3e9444ba9283550b590e29b","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"4f2f29f24ab843a78b34b4aa5ef76a36","fields":["u_when_needed"],"id":"f4608e44400e4741aa5aa93e34d28607","name":"Updated NeedIt","goal_id":"27666bb5d3e9444ba9283550b590e29b","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"Decision","name":"Update Field","branches":[{"type":"Branch","label":"Nothing","expression":{"type":"Applicability","mode":"query","value":"what_to_updage_=nothing"},"id":"713eecc7c35f4402845decb5b2ce594d","name":"Nothing"},{"type":"Branch","label":"When needed","expression":{"type":"Applicability","mode":"query","value":"what_to_updage_=when"},"id":"f6290e7f23fb4b3f83147176798a1e2c","name":"When needed"},{"type":"Branch","label":"Short description","expression":{"type":"Applicability","mode":"query","value":"what_to_updage_=short"},"id":"1fc3ddf4f01e4dc082ceb5149387bd4c","name":"Short description"}],"id":"7541d3934a7a43b1812c4a2219d38dac","goal_id":"27666bb5d3e9444ba9283550b590e29b"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"e8e2e5a56f874a689007829203b70874","name":"What to updage ","goal_id":"27666bb5d3e9444ba9283550b590e29b","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"5d27df3bdb834b91b27d9b6b1cc4ba81","message":{"type":"String","mode":"string","value":"What to update ?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"InputPrompt","variable_id":"55265424489c4ebb83eb410b6e7652ae","message":{"type":"String","mode":"string","value":"Enter short Description ?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"c45ba8f47be04fd0b10b59cbaa566748","name":"New Short Description","goal_id":"27666bb5d3e9444ba9283550b590e29b","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"short_description={{vaInputs.new_short_description}}","variable_id":"4f2f29f24ab843a78b34b4aa5ef76a36","id":"89514052f14a4282afc550476af1781e","name":"Change Short Description","goal_id":"27666bb5d3e9444ba9283550b590e29b","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n\t    // Add 1 to the search_count variable\n\t    vaVars.search_count = vaVars.search_count + 1;\n\t})()","id":"da99fd88b3704ab4be69a9030db419b2","name":"Update search_count","goal_id":"27666bb5d3e9444ba9283550b590e29b","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Update search_count","branches":[{"type":"Branch","label":"Less than 3","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n\t    // If the value of search_count is less than 3, return true\n\t    // otherwise, return false\n\t    if (vaVars.search_count &lt; 3)\n\t        return true;\n\t    else\n\t        return false;\n\t})()"},"id":"b836d5a6799b4c13beea0d3af7750df3","name":"Less than 3"},{"type":"Branch","label":"More then 3","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n\t    // If the value of search_count is less than 3, return true\n\t    // otherwise, return false\n\t    if (vaVars.search_count &lt; 3)\n\t        return false;\n\t    else\n\t        return true;\n\t})()"},"id":"3384950f31bb4fda8d1474411c98c2dd","name":"More then 3"}],"id":"daed77a9b66f4bcf8b1fd3c348572bd8","goal_id":"27666bb5d3e9444ba9283550b590e29b"},{"type":"TerminateGoal","goal_id":"27666bb5d3e9444ba9283550b590e29b","id":"91689488046944818b44813094bfac1b","name":"ImplicitEnd__0ca2f6623f7d4b6ba7498c6baadb3dc0"}],"edges":[{"type":"Edge","source_node_id":"f89a7ea90f0849a6b92e519073db8458","target_node_id":"850300bb69564140849b378156f4fbae","id":"c807855f2aff4a29b7810668895e6a2c"},{"type":"Edge","source_node_id":"2b031127f50643eb872a4464b703787f","target_node_id":"ecf50215c25643debb0f2c116473a520","id":"ef7254bc2cdd468c85d0792928607fef"},{"type":"Edge","source_node_id":"ecf50215c25643debb0f2c116473a520","target_node_id":"02b75b2a13e14166981aae5384fed832","id":"21a6cd1d800f4315bff7d5855cd66b5e"},{"type":"Edge","source_node_id":"02b75b2a13e14166981aae5384fed832","target_node_id":"0991c774b6204c21902a039703e02846","id":"e2f77b9bf133428c9650ac22b5e319d3"},{"type":"Edge","source_node_id":"0991c774b6204c21902a039703e02846","target_node_id":"fc34472a62bc4354b1086974ec0b2aa0","id":"bf35a3f8406e417ca3b47ae1486e6a5c"},{"type":"Edge","source_node_id":"850300bb69564140849b378156f4fbae","target_node_id":"996026fe83804854b80c2f5ffacf3847","branch_id":"bb396fe5cda94eeb8afe39641ca2615b","id":"fe153efebc1b43648d0b6a42dacddb34","name":"bb396fe5cda94eeb8afe39641ca2615b"},{"type":"Edge","source_node_id":"23575d3cdd134e81875167ddc5c215f1","target_node_id":"a1a71035157d4e6eb99d65fd7b8f7277","id":"86d2676bbb674819a454c6e5a400cf40"},{"type":"Edge","source_node_id":"a1a71035157d4e6eb99d65fd7b8f7277","target_node_id":"f4608e44400e4741aa5aa93e34d28607","id":"baf9beb02a3147c3affca4444de57d7a"},{"type":"Edge","source_node_id":"f4608e44400e4741aa5aa93e34d28607","target_node_id":"f89a7ea90f0849a6b92e519073db8458","id":"723ed559334d46058e6b1326ad7199f6"},{"type":"Edge","source_node_id":"7541d3934a7a43b1812c4a2219d38dac","target_node_id":"f89a7ea90f0849a6b92e519073db8458","branch_id":"713eecc7c35f4402845decb5b2ce594d","id":"e868a5c695354915a8514217922a3d3c","name":"713eecc7c35f4402845decb5b2ce594d"},{"type":"Edge","source_node_id":"7541d3934a7a43b1812c4a2219d38dac","target_node_id":"23575d3cdd134e81875167ddc5c215f1","branch_id":"f6290e7f23fb4b3f83147176798a1e2c","id":"20168d7aa9454855b02230f51f0df91c","name":"f6290e7f23fb4b3f83147176798a1e2c"},{"type":"Edge","source_node_id":"fc34472a62bc4354b1086974ec0b2aa0","target_node_id":"e8e2e5a56f874a689007829203b70874","id":"48c350fdf84349b8a10eeb45219a564c"},{"type":"Edge","source_node_id":"e8e2e5a56f874a689007829203b70874","target_node_id":"7541d3934a7a43b1812c4a2219d38dac","id":"4625584a7955466891abb5963ba5ba67"},{"type":"Edge","source_node_id":"7541d3934a7a43b1812c4a2219d38dac","target_node_id":"c45ba8f47be04fd0b10b59cbaa566748","branch_id":"1fc3ddf4f01e4dc082ceb5149387bd4c","id":"7482f4f1027a46dfb93ae7014067b944","name":"1fc3ddf4f01e4dc082ceb5149387bd4c"},{"type":"Edge","source_node_id":"c45ba8f47be04fd0b10b59cbaa566748","target_node_id":"89514052f14a4282afc550476af1781e","id":"c43e0df0dfff41b09c11a7421bf81802"},{"type":"Edge","source_node_id":"89514052f14a4282afc550476af1781e","target_node_id":"f4608e44400e4741aa5aa93e34d28607","id":"d729b4d36d79486d8b184859361eabb9"},{"type":"Edge","source_node_id":"850300bb69564140849b378156f4fbae","target_node_id":"da99fd88b3704ab4be69a9030db419b2","branch_id":"51366e5f0ab54262877290480f19d203","id":"23578e9270c1414a88e9bc2f6b40e24d","name":"51366e5f0ab54262877290480f19d203"},{"type":"Edge","source_node_id":"da99fd88b3704ab4be69a9030db419b2","target_node_id":"daed77a9b66f4bcf8b1fd3c348572bd8","id":"068972428673446aa1e476b70325b1de"},{"type":"Edge","source_node_id":"daed77a9b66f4bcf8b1fd3c348572bd8","target_node_id":"ecf50215c25643debb0f2c116473a520","branch_id":"b836d5a6799b4c13beea0d3af7750df3","id":"024891fdd8c2451cbec6fbe79b215de3","name":"b836d5a6799b4c13beea0d3af7750df3"},{"type":"Edge","source_node_id":"daed77a9b66f4bcf8b1fd3c348572bd8","target_node_id":"91689488046944818b44813094bfac1b","branch_id":"3384950f31bb4fda8d1474411c98c2dd","id":"c4031261ba29476e9d25508136d6206c","name":"3384950f31bb4fda8d1474411c98c2dd"}],"id":"27666bb5d3e9444ba9283550b590e29b"}],"script_variables":[{"type":"String","name":"search_count","value":{"type":"String","mode":"string","value":"0"},"id":"389cadc3832b40c0b304950c99a262d3"}],"glide_variables":[{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"hr"}],"id":"3e61b9768d9c4ec6be9fd0739220302f","name":"needit_type"},{"type":"Reference","table":"x_58872_needit_needit","id":"4f2f29f24ab843a78b34b4aa5ef76a36","name":"needit_list"},{"type":"True/False","id":"f8a5b78ee53945ec9a39840b4d759101","name":"search_again"},{"type":"Date/Time","mode":"date","id":"d3cf8321345c4652a131eae107cad87f","name":"new_when_needed_date"},{"type":"Reference","table":"","id":"93e99c73a19c42b4bb5d0d7a7860b113","name":"changge_when_needed_date"},{"type":"Choice","choices":[{"name":"Short Description","element":"short"},{"name":"When needed","element":"when"},{"name":"Nothing","element":"nothing"}],"id":"5d27df3bdb834b91b27d9b6b1cc4ba81","name":"what_to_updage_"},{"type":"String","name":"new_short_description","id":"55265424489c4ebb83eb410b6e7652ae"},{"type":"Reference","table":"x_58872_needit_needit","id":"84a19644efd04aadb8bdfe0edff4081b","name":"change_short_description"},{"type":"Reference","table":"sys_user","id":"current-user","name":"user"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"6ead8e780f603200cd674f8ce1050ed1","id":"1b400a104f8440109dfdb63ca310c7c9","name":"_PRVW__d6e5dde6e34c00104e7c11888e7fecf9","key_phrases":["Update NeedIt Records","Needit Records"],"nlu_provider":"","nlu_model":"","nlu_intent":"","flexible_conversation_switching":false,"design_category":"f64fbddc4f4440109dfdb63ca310c7c9"}</design_definition>
        <design_topic_id>1b400a104f8440109dfdb63ca310c7c9</design_topic_id>
        <name>_PRVW__d6e5dde6e34c00104e7c11888e7fecf9</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2019-09-25 11:38:37</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>16e5dde64f4c00109dfdb63ca310c7fd</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_cb_design_topic_16e5dde64f4c00109dfdb63ca310c7fd</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-09-25 11:38:37</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
